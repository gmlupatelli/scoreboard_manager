# Dependabot configuration
# Security-only mode: Dependabot alerts are enabled for vulnerability detection,
# but automated version-bump PRs are disabled. Instead, a scheduled GitHub Actions
# workflow (`dependency-check.yml`) audits for outdated/vulnerable packages and
# creates a GitHub Issue as a manual review task.
#
# Why: We prefer to review and apply dependency updates manually to avoid
# unexpected breakage from automated PRs.
#
# What still works automatically:
#   - Dependabot Security Alerts (repo Settings > Security)
#   - Dependabot vulnerability advisories in the Security tab
#   - Weekly dependency audit via GitHub Actions → GitHub Issue
#
# See docs/dependency-upgrade-policy.md for full rationale.
# https://docs.github.com/en/code-security/dependabot

version: 2
updates:
  # npm dependencies — alerts only, no version-bump PRs
  - package-ecosystem: 'npm'
    directory: '/'
    schedule:
      interval: 'weekly'
      day: 'monday'
      time: '06:00'
      timezone: 'America/New_York'
    # Setting to 0 disables all automated PRs while keeping security alerts active
    open-pull-requests-limit: 0
    labels:
      - 'dependencies'
      - 'security'

  # GitHub Actions — alerts only, no version-bump PRs
  - package-ecosystem: 'github-actions'
    directory: '/'
    schedule:
      interval: 'weekly'
      day: 'monday'
    open-pull-requests-limit: 0
    labels:
      - 'dependencies'
      - 'github-actions'

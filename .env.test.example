# Test Environment Configuration - EXAMPLE
# Copy this file to .env.test and fill in your actual test credentials
# ⚠️ THESE ARE THROWAWAY TEST ACCOUNTS - NOT PRODUCTION CREDENTIALS
# These accounts exist only for automated E2E testing and contain no sensitive data

# =============================================================================
# TEST USER ACCOUNTS
# =============================================================================
# The test infrastructure reads credentials from environment variables using a
# numbered naming schema. This allows you to add more test accounts as needed.
#
# NAMING CONVENTION:
#   AUTOMATED_TEST_ADMIN_<N>_EMAIL / _PASSWORD / _DISPLAY_NAME
#   AUTOMATED_TEST_USER_<N>_EMAIL / _PASSWORD / _DISPLAY_NAME
#   AUTOMATED_TEST_SUPPORTER_<N>_EMAIL / _PASSWORD / _DISPLAY_NAME / _TIER
#   MANUAL_TEST_ADMIN_<N>_EMAIL / _PASSWORD / _DISPLAY_NAME
#   MANUAL_TEST_USER_<N>_EMAIL / _PASSWORD / _DISPLAY_NAME
#   MANUAL_TEST_SUPPORTER_<N>_EMAIL / _PASSWORD / _DISPLAY_NAME / _TIER
#
# AUTOMATED vs MANUAL:
#   - AUTOMATED: Cleaned up between test runs (data reset after each test suite)
#   - MANUAL: Never auto-cleaned (for manual testing and debugging)
#
# ADMIN vs USER vs SUPPORTER:
#   - ADMIN: Has system_admin role (access to admin panel, settings, etc.)
#   - USER: Regular user role (standard user permissions, free tier)
#   - SUPPORTER: User role with active subscription (unlocked features)
#           The _TIER field sets which appreciation tier to seed:
#           appreciation | supporter | champion | legend | hall_of_famer
#
# PARALLEL TEST EXECUTION:
#   Each spec file gets its own dedicated user account(s) so no two parallel
#   workers share a Supabase Auth session. The mapping is:
#
#   ADMIN_1 → admin.spec.ts + global-setup
#   ADMIN_2 → auth.spec.ts
#   ADMIN_3 → invitations.spec.ts
#   ADMIN_4 → system-settings.spec.ts
#   USER_1  → scoreboard.spec.ts
#   USER_2  → auth.spec.ts
#   USER_3  → invitations.spec.ts
#   USER_4  → kiosk.spec.ts (free-user gate test)
#   USER_5  → accessibility.spec.ts
#   USER_6  → visual.spec.ts
#   USER_7  → tier-limits.spec.ts (free-tier tests)
#   SUPPORTER_1 (Sarah)  → auth.spec.ts (read-only access check)
#   SUPPORTER_2 (Morgan) → subscription.spec.ts
#   SUPPORTER_3          → supporter-recognition.spec.ts
#   SUPPORTER_5 (Taylor) → kiosk.spec.ts
#   SUPPORTER_6 (Riley)  → tier-limits.spec.ts (downgrade tests)
#   SUPPORTER_7          → invitations.spec.ts
#
# =============================================================================

# =============================================================================
# ADMIN ACCOUNTS (system_admin role)
# =============================================================================

# Admin 1: admin.spec.ts + global-setup (enables public registration)
AUTOMATED_TEST_ADMIN_1_EMAIL=admin@example.com
AUTOMATED_TEST_ADMIN_1_PASSWORD=admin123
AUTOMATED_TEST_ADMIN_1_DISPLAY_NAME=Site Admin

# Admin 2: auth.spec.ts (admin page restriction tests)
AUTOMATED_TEST_ADMIN_2_EMAIL=admin-auth@example.com
AUTOMATED_TEST_ADMIN_2_PASSWORD=admin123
AUTOMATED_TEST_ADMIN_2_DISPLAY_NAME=Auth Admin

# Admin 3: invitations.spec.ts (invitation admin features)
AUTOMATED_TEST_ADMIN_3_EMAIL=admin-invite@example.com
AUTOMATED_TEST_ADMIN_3_PASSWORD=admin123
AUTOMATED_TEST_ADMIN_3_DISPLAY_NAME=Invite Admin

# Admin 4: system-settings.spec.ts (settings toggle tests - runs serially)
AUTOMATED_TEST_ADMIN_4_EMAIL=admin-settings@example.com
AUTOMATED_TEST_ADMIN_4_PASSWORD=admin123
AUTOMATED_TEST_ADMIN_4_DISPLAY_NAME=Settings Admin

# =============================================================================
# USER ACCOUNTS (regular user role, free tier)
# =============================================================================

# User 1: scoreboard.spec.ts (CRUD operations, entries, search)
AUTOMATED_TEST_USER_1_EMAIL=john@example.com
AUTOMATED_TEST_USER_1_PASSWORD=user123
AUTOMATED_TEST_USER_1_DISPLAY_NAME=John Doe

# User 2: auth.spec.ts (authenticated session, admin restriction checks)
AUTOMATED_TEST_USER_2_EMAIL=user-auth@example.com
AUTOMATED_TEST_USER_2_PASSWORD=user123
AUTOMATED_TEST_USER_2_DISPLAY_NAME=Auth User

# User 3: invitations.spec.ts (send invitations, view status)
AUTOMATED_TEST_USER_3_EMAIL=user-invite@example.com
AUTOMATED_TEST_USER_3_PASSWORD=user123
AUTOMATED_TEST_USER_3_DISPLAY_NAME=Invite User

# User 4: kiosk.spec.ts (free-user kiosk gate test)
AUTOMATED_TEST_USER_4_EMAIL=user-kiosk@example.com
AUTOMATED_TEST_USER_4_PASSWORD=user123
AUTOMATED_TEST_USER_4_DISPLAY_NAME=Kiosk User

# User 5: accessibility.spec.ts (a11y checks on authenticated pages)
AUTOMATED_TEST_USER_5_EMAIL=user-a11y@example.com
AUTOMATED_TEST_USER_5_PASSWORD=user123
AUTOMATED_TEST_USER_5_DISPLAY_NAME=A11y User

# User 6: visual.spec.ts (screenshot comparisons)
AUTOMATED_TEST_USER_6_EMAIL=user-visual@example.com
AUTOMATED_TEST_USER_6_PASSWORD=user123
AUTOMATED_TEST_USER_6_DISPLAY_NAME=Visual User

# User 7: tier-limits.spec.ts (free-tier limit checks)
AUTOMATED_TEST_USER_7_EMAIL=user-tier@example.com
AUTOMATED_TEST_USER_7_PASSWORD=user123
AUTOMATED_TEST_USER_7_DISPLAY_NAME=Tier User

# =============================================================================
# SUPPORTER ACCOUNTS (user role + active subscription)
# =============================================================================

# Supporter 1: auth.spec.ts (admin page restriction check)
# Appreciation tier (admin-gifted, lowest tier)
AUTOMATED_TEST_SUPPORTER_1_EMAIL=sarah@example.com
AUTOMATED_TEST_SUPPORTER_1_PASSWORD=sarah456
AUTOMATED_TEST_SUPPORTER_1_DISPLAY_NAME=Sarah Smith
AUTOMATED_TEST_SUPPORTER_1_TIER=appreciation

# Supporter 2: subscription.spec.ts (subscription UI states, cancel/resume)
AUTOMATED_TEST_SUPPORTER_2_EMAIL=morgan@example.com
AUTOMATED_TEST_SUPPORTER_2_PASSWORD=supporter789
AUTOMATED_TEST_SUPPORTER_2_DISPLAY_NAME=Morgan Blake
AUTOMATED_TEST_SUPPORTER_2_TIER=supporter

# Supporter 3: supporter-recognition.spec.ts (welcome modal, preferences)
AUTOMATED_TEST_SUPPORTER_3_EMAIL=supporter-recog@example.com
AUTOMATED_TEST_SUPPORTER_3_PASSWORD=supporter789
AUTOMATED_TEST_SUPPORTER_3_DISPLAY_NAME=Recog Supporter
AUTOMATED_TEST_SUPPORTER_3_TIER=supporter

# Supporter 5: kiosk.spec.ts (kiosk settings, view, display)
# This user's subscription is never mutated by subscription.spec.ts
AUTOMATED_TEST_SUPPORTER_5_EMAIL=taylor@example.com
AUTOMATED_TEST_SUPPORTER_5_PASSWORD=supporter789
AUTOMATED_TEST_SUPPORTER_5_DISPLAY_NAME=Taylor Chen
AUTOMATED_TEST_SUPPORTER_5_TIER=supporter

# Supporter 6: tier-limits.spec.ts (downgrade flow tests)
AUTOMATED_TEST_SUPPORTER_6_EMAIL=riley@example.com
AUTOMATED_TEST_SUPPORTER_6_PASSWORD=supporter789
AUTOMATED_TEST_SUPPORTER_6_DISPLAY_NAME=Riley Brooks
AUTOMATED_TEST_SUPPORTER_6_TIER=supporter

# Supporter 7: invitations.spec.ts (invitation status checks)
AUTOMATED_TEST_SUPPORTER_7_EMAIL=supporter-invite@example.com
AUTOMATED_TEST_SUPPORTER_7_PASSWORD=supporter789
AUTOMATED_TEST_SUPPORTER_7_DISPLAY_NAME=Invite Supporter
AUTOMATED_TEST_SUPPORTER_7_TIER=appreciation

# [Manual] Test accounts (NOT auto-cleaned - for manual testing)
# Uncomment and configure as needed:
# MANUAL_TEST_ADMIN_1_EMAIL=siteadmin@example.com
# MANUAL_TEST_ADMIN_1_PASSWORD=siteadmin123
# MANUAL_TEST_ADMIN_1_DISPLAY_NAME=Manual Admin
# MANUAL_TEST_USER_1_EMAIL=jane@example.com
# MANUAL_TEST_USER_1_PASSWORD=jane456
# MANUAL_TEST_USER_1_DISPLAY_NAME=Jane Cooper

# =============================================================================
# TEST INFRASTRUCTURE
# =============================================================================

# Test Cleanup API Key (secure random string - required for cleanup endpoint)
# Protects the /api/test/cleanup endpoint that resets automated user data
# Generate a new one with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
TEST_CLEANUP_API_KEY=your-secure-random-key-here-replace-me-with-64-char-hex-string

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Supabase credentials are loaded from .env.local to avoid duplication.
# Only add values here if you need test-specific overrides.

# =============================================================================
# PLAYWRIGHT CONFIGURATION
# =============================================================================

# Base URL for Playwright tests
PLAYWRIGHT_TEST_BASE_URL=http://localhost:5000
